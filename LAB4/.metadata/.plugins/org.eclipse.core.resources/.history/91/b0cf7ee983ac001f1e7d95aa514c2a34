/*
 * sched_o1.h
 *
 *  Created on: Nov 27, 2024
 *      Author: User
 */

#ifndef INC_SCHED_O1_H_
#define INC_SCHED_O1_H_

#include <stdint.h>

#define SCH_MAX_TASKS 10

typedef struct Task {
    void (*pTask)(void);  // Con trỏ đến hàm nhiệm vụ
    uint32_t delay;       // Thời gian delay trước khi thực thi
    uint32_t period;      // Chu kỳ nhiệm vụ (0 nếu là nhiệm vụ một lần)
    struct Task* next;    // Con trỏ đến nhiệm vụ tiếp theo
} Task;

void SCH_Init(void);
uint8_t SCH_Add_Task(void (*pFunction)(void), uint32_t delay, uint32_t period);
void SCH_Update(void);
void SCH_Delete_Task(Task* task);
void SCH_Dispatch_Tasks(void);

#endif /* INC_SCHED_O1_H_ */
